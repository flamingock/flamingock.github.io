"use strict";(self.webpackChunkflamingock=self.webpackChunkflamingock||[]).push([[909],{1470:(e,n,t)=>{t.d(n,{A:()=>T});var s=t(6540),a=t(4164),r=t(3104),i=t(6347),o=t(205),l=t(7485),c=t(1682),d=t(679);function h(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,s.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const t=(0,i.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(a),(0,s.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})},[a,t])]}function p(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,r=u(e),[i,l]=(0,s.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r})),[c,h]=g({queryString:t,groupId:a}),[p,y]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,d.Dv)(n);return[t,(0,s.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),x=(()=>{const e=c??p;return m({value:e,tabValues:r})?e:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:i,selectValue:(0,s.useCallback)(e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),y(e)},[h,y,r]),tabValues:r}}var y=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=t(4848);function j({className:e,block:n,selectedValue:t,selectValue:s,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=e=>{const n=e.currentTarget,a=o.indexOf(n),r=i[a].value;r!==t&&(l(n),s(r))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:s})=>(0,f.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...s,className:(0,a.A)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function b({lazy:e,children:n,selectedValue:t}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function v(e){const n=p(e);return(0,f.jsxs)("div",{className:(0,a.A)("tabs-container",x.tabList),children:[(0,f.jsx)(j,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function T(e){const n=(0,y.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},5369:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"target-systems/non-transactional-target-system","title":"Non transactional","description":"The Non-transactional target system (NonTransactionalTargetSystem) is Flamingock\'s generic target system for any system that doesn\'t require specialized handling. It serves as the universal option when no dedicated target system implementation exists or is needed for your specific technology.","source":"@site/docs/target-systems/non-transactional-target-system.md","sourceDirName":"target-systems","slug":"/target-systems/non-transactional-target-system","permalink":"/target-systems/non-transactional-target-system","draft":false,"unlisted":false,"editUrl":"https://github.com/flamingock/flamingock-java/docs/target-systems/non-transactional-target-system.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Non transactional","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/target-systems/introduction"},"next":{"title":"SQL","permalink":"/target-systems/sql-target-system"}}');var a=t(4848),r=t(8453);t(1470),t(9365);const i={title:"Non transactional",sidebar_position:1},o="Non-transactional Target System",l={},c=[{value:"Why use NonTransactionalTargetSystem?",id:"why-use-nontransactionaltargetsystem",level:2},{value:"Installation",id:"installation",level:2},{value:"Basic setup",id:"basic-setup",level:2},{value:"Target System Configuration",id:"target-system-configuration",level:2},{value:"Constructor Dependencies (None)",id:"constructor-dependencies-none",level:3},{value:"Dependencies Available to Changes",id:"dependencies-available-to-changes",level:2},{value:"Configuration example",id:"configuration-example",level:2},{value:"Available dependencies in Changes",id:"available-dependencies-in-changes",level:2},{value:"Next steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"non-transactional-target-system",children:"Non-transactional Target System"})}),"\n",(0,a.jsxs)(n.p,{children:["The Non-transactional target system (",(0,a.jsx)(n.code,{children:"NonTransactionalTargetSystem"}),") is Flamingock's generic target system ",(0,a.jsx)(n.strong,{children:"for any system that doesn't require specialized handling"}),". It serves as the universal option when no dedicated target system implementation exists or is needed for your specific technology."]}),"\n",(0,a.jsx)(n.h2,{id:"why-use-nontransactionaltargetsystem",children:"Why use NonTransactionalTargetSystem?"}),"\n",(0,a.jsx)(n.p,{children:"NonTransactionalTargetSystem is the fallback choice when there's no specialized target system implementation available for your technology. While Flamingock provides dedicated target systems for technologies that benefit from specific handling (like transactional systems that leverage native rollback capabilities), many systems don't require such specialization."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"When to use NonTransactionalTargetSystem:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"No dedicated target system exists for your technology"}),"\n",(0,a.jsx)(n.li,{children:"Your system doesn't have unique characteristics that warrant specialized handling"}),"\n",(0,a.jsx)(n.li,{children:"You need a simple, flexible solution without technology-specific optimizations"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Future extensibility:"})," The Flamingock ecosystem may expand with more specialized target systems as specific needs are identified."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Common systems using NonTransactionalTargetSystem:"})," Kafka Schema Registry, message queues, object storage (S3), REST APIs, file systems, cache systems, feature flags, search engines"]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.p,{children:"No specific dependencies are required for DefaultTargetSystem. You can add any dependencies needed for your specific use case."}),"\n",(0,a.jsx)(n.h2,{id:"basic-setup",children:"Basic setup"}),"\n",(0,a.jsx)(n.p,{children:"Configure the target system:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'var schemaRegistry = new NonTransactionalTargetSystem("kafka-schema-registry-id");\n'})}),"\n",(0,a.jsx)(n.p,{children:"Unlike specialized target systems, NonTransactionalTargetSystem requires no mandatory constructor dependencies. You have complete flexibility to inject whatever dependencies your Changes need."}),"\n",(0,a.jsx)(n.admonition,{title:"Register Target System",type:"info",children:(0,a.jsxs)(n.p,{children:["Once created, you need to register this target system with Flamingock. See ",(0,a.jsx)(n.a,{href:"/target-systems/introduction#registering-target-systems",children:"Registering target systems"})," for details."]})}),"\n",(0,a.jsx)(n.h2,{id:"target-system-configuration",children:"Target System Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["The Non-transactional target system uses Flamingock's ",(0,a.jsx)(n.a,{href:"/target-systems/introduction#dependency-injection",children:"split dependency resolution architecture"})," with separate flows for target system configuration and change execution dependencies."]}),"\n",(0,a.jsx)(n.h3,{id:"constructor-dependencies-none",children:"Constructor Dependencies (None)"}),"\n",(0,a.jsxs)(n.p,{children:["Unlike specialized target systems, NonTransactionalTargetSystem requires ",(0,a.jsx)(n.strong,{children:"no mandatory constructor dependencies"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Only requires the target system name\nvar targetSystem = new NonTransactionalTargetSystem("system-name-id");\n'})}),"\n",(0,a.jsx)(n.h2,{id:"dependencies-available-to-changes",children:"Dependencies Available to Changes"}),"\n",(0,a.jsxs)(n.p,{children:["Changes can access dependencies through ",(0,a.jsx)(n.a,{href:"/changes/anatomy-and-structure#method-parameters-and-dependency-injection",children:"dependency injection with fallback"}),":"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Method"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:".addDependency(object)"})}),(0,a.jsx)(n.td,{children:"Add a dependency by type for changes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:".addDependency(name, object)"})}),(0,a.jsx)(n.td,{children:"Add a named dependency for changes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:".setProperty(key, value)"})}),(0,a.jsx)(n.td,{children:"Set a configuration property for changes"})]})]})]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Target system context"})," (highest priority) - any dependencies added via ",(0,a.jsx)(n.code,{children:".addDependency()"})," or properties via ",(0,a.jsx)(n.code,{children:".setProperty()"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Global context"})," (fallback) - shared dependencies available to all target systems"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"configuration-example",children:"Configuration example"}),"\n",(0,a.jsx)(n.p,{children:"Here's a comprehensive example showing the new architecture:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Target system configuration (no mandatory constructor dependencies)\nvar schemaRegistry = new DefaultTargetSystem("kafka-schema-registry")\n    .addDependency(schemaRegistryClient)     // Additional dependency for changes\n    .addDependency("registry-url", "http://schema-registry:8081")  // Named dependency\n    .setProperty("compatibility.level", "BACKWARD");  // Configuration property\n\n// Global context with shared dependencies\nFlamingock.builder()\n    .addDependency(metricsService)           // Available to all target systems\n    .addDependency(notificationService)      // Available to all target systems\n    .addTargetSystems(schemaRegistry)\n    .build();\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Target system configuration resolution:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"No mandatory dependencies"}),": Target system created with name only"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Additional dependencies"}),": Added via ",(0,a.jsx)(n.code,{children:".addDependency()"})," methods"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Configuration properties"}),": Added via ",(0,a.jsx)(n.code,{children:".setProperty()"})," method"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:'Change dependency resolution for Changes in "kafka-schema-registry":'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SchemaRegistryClient"}),": From target system additional dependencies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Registry URL"}),': From target system context as named dependency ("registry-url")']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Compatibility level"}),': From target system context as property ("compatibility.level")']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"MetricsService"}),": From global context (fallback)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"NotificationService"}),": From global context (fallback)"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"This architecture provides maximum flexibility while maintaining clear separation between target system setup and change execution."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"How compensation works:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"No transaction boundaries"}),": Operations execute immediately with no automatic rollback"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Rollback execution"}),": If any failure occurs, Flamingock calls the ",(0,a.jsx)(n.code,{children:"@Rollback"})," method"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Manual compensation"}),": You provide the logic to undo or compensate for the changes made"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Important"}),": Always provide ",(0,a.jsx)(n.code,{children:"@Rollback"})," methods for NonTransactionalTargetSystem Changes to ensure safe rollback capabilities."]}),"\n",(0,a.jsx)(n.h2,{id:"available-dependencies-in-changes",children:"Available dependencies in Changes"}),"\n",(0,a.jsxs)(n.p,{children:["Your Changes can inject any dependencies you add to the target system context via ",(0,a.jsx)(n.code,{children:".addDependency()"})," or properties via ",(0,a.jsx)(n.code,{children:".setProperty()"}),", which take precedence over global dependencies. Common examples include system clients, configuration values, custom services, and properties."]}),"\n",(0,a.jsxs)(n.p,{children:["For comprehensive details on change dependency resolution, see ",(0,a.jsx)(n.a,{href:"/changes/anatomy-and-structure",children:"Change Anatomy & Structure"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Learn about ",(0,a.jsx)(n.a,{href:"/target-systems/introduction",children:"Target systems"})]}),"\n",(0,a.jsxs)(n.li,{children:["Explore ",(0,a.jsx)(n.a,{href:"/changes/introduction",children:"Changes"})]}),"\n",(0,a.jsxs)(n.li,{children:["See ",(0,a.jsx)(n.a,{href:"https://github.com/flamingock/flamingock-examples/tree/master/default",children:"NonTransactionalTargetSystem examples"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);var s=t(4164);const a={tabItem:"tabItem_Ymn6"};var r=t(4848);function i({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(a.tabItem,t),hidden:n,children:e})}}}]);