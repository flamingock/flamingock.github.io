"use strict";(self.webpackChunkflamingock=self.webpackChunkflamingock||[]).push([[7610],{244:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"target-systems/introduction","title":"Introduction","description":"Target systems are the real-world systems where your business changes are applied.","source":"@site/docs/target-systems/introduction.md","sourceDirName":"target-systems","slug":"/target-systems/introduction","permalink":"/docs/target-systems/introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/flamingock/flamingock-java/docs/target-systems/introduction.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Introduction","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"Best Practices","permalink":"/docs/change-units/best-practices"},"next":{"title":"MongoDB Sync","permalink":"/docs/target-systems/mongodb-target-system"}}');var i=t(4848),a=t(8453);const r={title:"Introduction",sidebar_position:0},o="Target systems",l={},c=[{value:"Why target systems matter",id:"why-target-systems-matter",level:2},{value:"Explicit ownership",id:"explicit-ownership",level:3},{value:"Transactionality awareness",id:"transactionality-awareness",level:3},{value:"Dependency injection",id:"dependency-injection",level:3},{value:"Dependency resolution hierarchy",id:"dependency-resolution-hierarchy",level:4},{value:"Registering target systems",id:"registering-target-systems",level:2},{value:"Spring Boot Integration",id:"spring-boot-integration",level:3},{value:"Linking ChangeUnits to target systems",id:"linking-changeunits-to-target-systems",level:2},{value:"Cloud Edition visibility",id:"cloud-edition-visibility",level:2},{value:"Best practices",id:"best-practices",level:2},{value:"Available target system implementations",id:"available-target-system-implementations",level:2},{value:"Specialized target systems",id:"specialized-target-systems",level:3},{value:"Universal fallback",id:"universal-fallback",level:3}];function d(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"target-systems",children:"Target systems"})}),"\n",(0,i.jsx)(s.p,{children:"Target systems are the real-world systems where your business changes are applied.\nThese include any external service your application interacts with or evolves - message queues, APIs, cloud services, databases, configuration stores, and more. The examples throughout this documentation are illustrative; Flamingock can work with any system your application needs to change."}),"\n",(0,i.jsx)(s.p,{children:"A ChangeUnit always declares which target system it belongs to. This ensures Flamingock can:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Track and audit changes per system"}),"\n",(0,i.jsx)(s.li,{children:"Guarantee safe execution across heterogeneous environments"}),"\n",(0,i.jsx)(s.li,{children:"Provide clear visibility into which changes affect which systems"}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Conceptual Overview"}),": For architectural understanding of target systems vs audit store, see ",(0,i.jsx)(s.a,{href:"/docs/overview/audit-store-vs-target-system",children:"Target Systems vs Audit Store"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"why-target-systems-matter",children:"Why target systems matter"}),"\n",(0,i.jsx)(s.h3,{id:"explicit-ownership",children:"Explicit ownership"}),"\n",(0,i.jsx)(s.p,{children:"Every change is tied to a named target system, avoiding ambiguity and enabling clear governance."}),"\n",(0,i.jsx)(s.h3,{id:"transactionality-awareness",children:"Transactionality awareness"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Transactional target systems"})," (like PostgreSQL, MySQL, or MongoDB with transactions) allow Flamingock to use native rollback and guarantees."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Non-transactional systems"})," (like S3, Kafka, or REST APIs) are still safe, but Flamingock relies on rollback methods you provide."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This distinction is built into the target system definition."}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["For detailed information on transaction handling, see ",(0,i.jsx)(s.a,{href:"/docs/flamingock-library-config/transactions",children:"Transactions"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"dependency-injection",children:"Dependency injection"}),"\n",(0,i.jsx)(s.p,{children:"Each target system can expose the dependencies required by its ChangeUnits. For example:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A MongoDB target system provides a ",(0,i.jsx)(s.code,{children:"MongoDatabase"})]}),"\n",(0,i.jsxs)(s.li,{children:["A Kafka target system provides a ",(0,i.jsx)(s.code,{children:"KafkaTemplate"})]}),"\n",(0,i.jsxs)(s.li,{children:["A SQL target system provides a ",(0,i.jsx)(s.code,{children:"Connection"})," or ",(0,i.jsx)(s.code,{children:"DataSource"})]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"dependency-resolution-hierarchy",children:"Dependency resolution hierarchy"}),"\n",(0,i.jsxs)(s.p,{children:["Each target system needs specific dependencies to function (except ",(0,i.jsx)(s.code,{children:"DefaultTargetSystem"})," which requires none). When Flamingock initializes a target system, it resolves dependencies using this hierarchy:"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Direct injection"})," via ",(0,i.jsx)(s.code,{children:".withXXX()"})," methods (highest priority)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Global context"})," lookup if not directly injected"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Default values"})," for optional configurations, or ",(0,i.jsx)(s.strong,{children:"exception"})," for required ones"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This approach provides maximum flexibility while ensuring all requirements are met:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:'MongoSyncTargetSystem mongoTarget = new MongoSyncTargetSystem("user-db")\n    .withDatabase(database);\n'})}),"\n",(0,i.jsx)(s.p,{children:"In this example, Flamingock resolves dependencies as follows:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"MongoDatabase"}),": Provided directly via ",(0,i.jsx)(s.code,{children:".withDatabase()"}),", so it's immediately available"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"MongoClient"}),": Not provided directly, so Flamingock searches the global context"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"WriteConcern"}),": Not found in either place, so uses the default value (MAJORITY with journal)"]}),"\n",(0,i.jsx)(s.li,{children:"If MongoClient is missing from the global context, Flamingock throws an exception since it's a required dependency"}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsx)(s.p,{children:"ChangeUnits are not limited to target system dependencies. They can also request shared or application-level dependencies. Flamingock resolves them automatically, starting from the target system context and falling back to the general context."})}),"\n",(0,i.jsx)(s.h2,{id:"registering-target-systems",children:"Registering target systems"}),"\n",(0,i.jsx)(s.p,{children:"Target systems are registered at runtime with the Flamingock builder. You can define and register as many as you need:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:'\nSqlTargetSystem mysql = new SqlTargetSystem("mysql-inventory")\n    .withDatasource(ds);\n\nDefaultTargetSystem s3 = new DefaultTargetSystem("aws-s3");\n\nDefaultTargetSystem kafka = new DefaultTargetSystem("kafka-stock");\n\nFlamingock.builder()\n    .setAuditStore(new MongoSyncAuditStore(mongoClient, mongoDatabase))\n    .addTargetSystems(mysql, s3, kafka)\n    .build()\n    .run();\n  \n'})}),"\n",(0,i.jsx)(s.p,{children:"At startup, Flamingock automatically injects the right dependencies from the corresponding target system into each ChangeUnit."}),"\n",(0,i.jsx)(s.h3,{id:"spring-boot-integration",children:"Spring Boot Integration"}),"\n",(0,i.jsx)(s.p,{children:"For Spring Boot applications, target systems are configured as beans:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:'@Bean\npublic SqlTargetSystem sqlTargetSystem(DataSource dataSource) {\n    return new SqlTargetSystem("mysql-inventory")\n        .withDatasource(dataSource);\n}\n\n@Bean  \npublic DefaultTargetSystem kafkaTargetSystem() {\n    return new DefaultTargetSystem("kafka-stock");\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:"Spring Boot's auto-configuration will automatically register these target systems with Flamingock."}),"\n",(0,i.jsxs)(s.p,{children:["For more details, see ",(0,i.jsx)(s.a,{href:"/docs/frameworks/springboot-integration/introduction",children:"Spring Boot Integration"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"linking-changeunits-to-target-systems",children:"Linking ChangeUnits to target systems"}),"\n",(0,i.jsxs)(s.p,{children:["When defining ChangeUnits, you specify which target system they belong to using the ",(0,i.jsx)(s.code,{children:"@TargetSystem"})," annotation:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-java",children:'@TargetSystem("mysql-inventory")\n@ChangeUnit(id = "add-category", order = "001", author = "team")\npublic class _001_AddCategory {\n    //...\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"cloud-edition-visibility",children:"Cloud Edition visibility"}),"\n",(0,i.jsx)(s.p,{children:"In the Cloud Edition, target systems become a first-class part of the dashboard:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"See all changes grouped by target system"}),"\n",(0,i.jsx)(s.li,{children:"Filter execution history by system"}),"\n",(0,i.jsx)(s.li,{children:"Track failures and recoveries per system"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This makes it easier to govern and audit distributed environments at scale."}),"\n",(0,i.jsx)(s.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Use descriptive names (",(0,i.jsx)(s.code,{children:"mysql-inventory"}),", ",(0,i.jsx)(s.code,{children:"aws-s3"}),", ",(0,i.jsx)(s.code,{children:"kafka-stock"}),")"]}),"\n",(0,i.jsx)(s.li,{children:"Be consistent across related ChangeUnits"}),"\n",(0,i.jsx)(s.li,{children:'Avoid generic names like "database" or "api"'}),"\n",(0,i.jsx)(s.li,{children:"Provide rollback logic for non-transactional systems"}),"\n",(0,i.jsx)(s.li,{children:"Keep dependencies scoped to the system they belong to \u2014 don\u2019t overload the general context when they are system-specific"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"available-target-system-implementations",children:"Available target system implementations"}),"\n",(0,i.jsx)(s.p,{children:"Flamingock provides several built-in target system implementations. The ecosystem includes specialized implementations for technologies that benefit from specific handling, and a universal fallback for everything else:"}),"\n",(0,i.jsx)(s.h3,{id:"specialized-target-systems",children:"Specialized target systems"}),"\n",(0,i.jsx)(s.p,{children:"These target systems provide optimized handling for specific technologies:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Transactional systems"})," - Leverage native transaction capabilities for automatic rollback:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/mongodb-target-system",children:"MongoDB target system"})," - For MongoDB with the sync driver"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/mongodb-springdata-target-system",children:"MongoDB Spring Data target system"})," - For MongoDB with Spring Data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/sql-target-system",children:"SQL target system"})," - For relational databases (PostgreSQL, MySQL, etc.)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/dynamodb-target-system",children:"DynamoDB target system"})," - For Amazon DynamoDB"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/couchbase-target-system",children:"Couchbase target system"})," - For Couchbase"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"universal-fallback",children:"Universal fallback"}),"\n",(0,i.jsx)(s.p,{children:"For any system that doesn't require specialized handling:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/target-systems/default-target-system",children:"Default target system"})," - The fallback choice for any system without a dedicated implementation (Kafka Schema Registry, S3, REST APIs, file systems, etc.)"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Future extensibility"}),": The Flamingock ecosystem may expand with more specialized target systems as specific needs are identified. These can be implemented by the Flamingock team, community contributions, or custom implementations by users."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Key Takeaway"}),": Target systems provide the foundation for safe, auditable changes across your entire technology stack. By explicitly declaring and configuring them, you enable Flamingock to orchestrate complex distributed system evolution with confidence."]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>o});var n=t(6540);const i={},a=n.createContext(i);function r(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);