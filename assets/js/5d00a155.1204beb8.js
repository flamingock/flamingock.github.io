"use strict";(self.webpackChunkflamingock=self.webpackChunkflamingock||[]).push([[9264],{8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(6540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}},9831:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"safety-and-recovery/issue-resolution","title":"Issue Resolution","description":"Issue resolution is an iterative process of identifying failures, investigating their cause in target systems, and marking the appropriate resolution. Flamingock provides CLI tools to systematically work through issues until all are resolved.","source":"@site/docs/safety-and-recovery/issue-resolution.md","sourceDirName":"safety-and-recovery","slug":"/safety-and-recovery/issue-resolution","permalink":"/docs/safety-and-recovery/issue-resolution","draft":false,"unlisted":false,"editUrl":"https://github.com/flamingock/flamingock-java/docs/safety-and-recovery/issue-resolution.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Issue Resolution","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs/safety-and-recovery/introduction"},"next":{"title":"Recovery strategies","permalink":"/docs/safety-and-recovery/recovery-strategies"}}');var i=n(4848),r=n(8453);const a={title:"Issue Resolution",sidebar_position:2},l="Issue Resolution",o={},c=[{value:"Understanding Issues",id:"understanding-issues",level:2},{value:"What Creates an Issue?",id:"what-creates-an-issue",level:3},{value:"CLI-Driven Resolution Workflow",id:"cli-driven-resolution-workflow",level:2},{value:"1. Issue Discovery",id:"1-issue-discovery",level:3},{value:"2. Automated Issue Triage",id:"2-automated-issue-triage",level:3},{value:"3. Verify Target System State",id:"3-verify-target-system-state",level:3},{value:"4. Mark Audit Resolution",id:"4-mark-audit-resolution",level:3},{value:"Resolution Commands",id:"resolution-commands",level:2},{value:"APPLIED Resolution",id:"applied-resolution",level:3},{value:"ROLLED_BACK Resolution",id:"rolled_back-resolution",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"issue-resolution",children:"Issue Resolution"})}),"\n",(0,i.jsx)(s.p,{children:"Issue resolution is an iterative process of identifying failures, investigating their cause in target systems, and marking the appropriate resolution. Flamingock provides CLI tools to systematically work through issues until all are resolved."}),"\n",(0,i.jsx)(s.h2,{id:"understanding-issues",children:"Understanding Issues"}),"\n",(0,i.jsx)(s.h3,{id:"what-creates-an-issue",children:"What Creates an Issue?"}),"\n",(0,i.jsx)(s.p,{children:'An "issue" is detected when:'}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change execution fails"})," during the ",(0,i.jsx)(s.code,{children:"@Execution"})," method"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change starts but never completes"})," (process crash, timeout)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Rollback fails"})," during ",(0,i.jsx)(s.code,{children:"@RollbackExecution"})," method"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Change needs to run again"})," but is in uncertain state"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"cli-driven-resolution-workflow",children:"CLI-Driven Resolution Workflow"}),"\n",(0,i.jsx)(s.h3,{id:"1-issue-discovery",children:"1. Issue Discovery"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock issue list\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Example Output"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"ISSUES FOUND (3)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Change ID               \u2502 State   \u2502 Error            \u2502 Target       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 user-data-sync-v2       \u2502 STARTED \u2502 Connection lost  \u2502 user-db      \u2502\n\u2502 cache-warming-q4        \u2502 FAILED  \u2502 Redis timeout    \u2502 redis-cache  \u2502\n\u2502 payment-processing      \u2502 FAILED  \u2502 Validation error \u2502 payment-api  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nUse 'flamingock issue get' to process issues automatically, or\n'flamingock issue get -c <change-id>' for specific issue details.\n"})}),"\n",(0,i.jsx)(s.h3,{id:"2-automated-issue-triage",children:"2. Automated Issue Triage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock issue get\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"What This Does"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Automatically selects the next issue"}),"\n",(0,i.jsx)(s.li,{children:"Provides detailed context and diagnostic information"}),"\n",(0,i.jsx)(s.li,{children:"Suggests resolution approaches based on failure type"}),"\n",(0,i.jsx)(s.li,{children:"No need to copy/paste change IDs"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Example Output"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"ISSUE: user-data-sync-v2\nStatus: STARTED (execution began but never completed)\nTarget System: user-database\nAuthor: platform-team\nStarted: 2024-01-15 14:32:15 UTC\nError: Connection lost during execution\n\nDIAGNOSTIC INFORMATION:\n- Change was modifying user profiles in MongoDB\n- Execution started but connection dropped after 30 seconds\n- No rollback was triggered (connection failure before completion)\n- Potentially partial state in target system\n\nRESOLUTION GUIDANCE:\n1. Check target system state:\n   - Query user-database for partially updated records\n   - Look for users with incomplete profile updates\n   - Check MongoDB logs for connection errors around 14:32:15 UTC\n\n2. Determine actual state:\n   - If no changes were applied \u2192 mark as APPLIED (safe to continue)\n   - If changes were partially applied \u2192 complete manually, then mark APPLIED\n   - If changes were fully applied \u2192 mark as APPLIED\n   - If changes caused corruption \u2192 rollback manually, then mark ROLLED_BACK\n\n3. Resolve the issue:\n   flamingock audit fix -c user-data-sync-v2 --resolution APPLIED\n   flamingock audit fix -c user-data-sync-v2 --resolution ROLLED_BACK\n\nNext: flamingock issue get (to process next issue)\n"})}),"\n",(0,i.jsx)(s.h3,{id:"3-verify-target-system-state",children:"3. Verify Target System State"}),"\n",(0,i.jsxs)(s.p,{children:["Based on the guidance, investigate the ",(0,i.jsx)(s.strong,{children:"target system"})," (not the audit store) to determine the actual state of the change. You will find one of three possible states:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Fully applied"}),": The change completed successfully and all expected modifications are present"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Not applied at all"}),": The change failed before making any modifications to the target system"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Partially applied"}),": Some but not all changes were made to the target system (",(0,i.jsx)(s.strong,{children:"only possible with non-transactional target systems"}),")"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"For partially applied changes, you must decide whether to:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Manually complete the remaining changes, then mark as ",(0,i.jsx)(s.strong,{children:"APPLIED"})]}),"\n",(0,i.jsxs)(s.li,{children:["Manually revert the partial changes, then mark as ",(0,i.jsx)(s.strong,{children:"ROLLED_BACK"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"4-mark-audit-resolution",children:"4. Mark Audit Resolution"}),"\n",(0,i.jsx)(s.p,{children:"Based on your target system verification, mark the audit with the appropriate resolution."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["If the change was successfully applied to the target system (either fully or after manual completion of partial changes), mark it as ",(0,i.jsx)(s.strong,{children:"APPLIED"}),":"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock audit fix -c change-id -r APPLIED\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["If the change was not applied or was manually reverted, mark it as ",(0,i.jsx)(s.strong,{children:"ROLLED_BACK"}),":"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock audit fix -c change-id -r ROLLED_BACK\n"})}),"\n",(0,i.jsx)(s.h2,{id:"resolution-commands",children:"Resolution Commands"}),"\n",(0,i.jsx)(s.h3,{id:"applied-resolution",children:"APPLIED Resolution"}),"\n",(0,i.jsx)(s.p,{children:"Mark the change as successfully applied when the target system contains the expected changes:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock audit fix -c change-id -r APPLIED\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Use when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Changes were successfully applied to target system"}),"\n",(0,i.jsx)(s.li,{children:"Partial changes were completed manually"}),"\n",(0,i.jsx)(s.li,{children:"Target system is in the desired end state"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"rolled_back-resolution",children:"ROLLED_BACK Resolution"}),"\n",(0,i.jsx)(s.p,{children:"Mark the change as not applied when the target system was not modified or was reverted:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"flamingock audit fix -c change-id -r ROLLED_BACK\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Use when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Changes were not applied to target system"}),"\n",(0,i.jsx)(s.li,{children:"Changes were reverted due to issues"}),"\n",(0,i.jsx)(s.li,{children:"Target system should be left unchanged"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note:"})," Changes marked as ROLLED_BACK will be attempted again on the next execution."]})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);