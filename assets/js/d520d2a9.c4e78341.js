"use strict";(self.webpackChunkflamingock=self.webpackChunkflamingock||[]).push([[7016],{2608:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Flamingock Arch HLD-93cc4e76845d885675df9ec73a5dc9db.png"},5276:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"overview/technical-overview","title":"Flamingock Technical Overview","description":"Welcome to the Technical Overview of Flamingock \u2014 a flexible framework designed to help you manage and audit changes of any kind across your systems and services.","source":"@site/docs/overview/technical-overview.md","sourceDirName":"overview","slug":"/overview/technical-overview","permalink":"/docs/overview/technical-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/overview/technical-overview.md","tags":[],"version":"current","sidebarPosition":90,"frontMatter":{"sidebar_position":90},"sidebar":"tutorialSidebar","previous":{"title":"Core concepts","permalink":"/docs/overview/core-concepts"},"next":{"title":"Target Systems vs Audit Store","permalink":"/docs/overview/audit-store-vs-target-system"}}');var s=i(4848),r=i(8453);const a={sidebar_position:90},o="Flamingock Technical Overview",c={},l=[{value:"Architectural Overview",id:"architectural-overview",level:2},{value:"A more detailed process steps",id:"a-more-detailed-process-steps",level:3}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"flamingock-technical-overview",children:"Flamingock Technical Overview"})}),"\n",(0,s.jsxs)(n.p,{children:["Welcome to the ",(0,s.jsx)(n.strong,{children:"Technical Overview"})," of Flamingock \u2014 a flexible framework designed to help you manage and audit changes of any kind across your systems and services."]}),"\n",(0,s.jsx)(n.p,{children:"Building on the foundations of Mongock, Flamingock goes beyond traditional database migrations to support a wide range of change types, including data updates, configuration adjustments, API evolutions, and system integrations \u2014 all with a consistent, traceable, and repeatable approach."}),"\n",(0,s.jsx)(n.p,{children:"This document introduces Flamingock\u2019s core concepts and outlines its architecture to help you understand how it simplifies the orchestration of system changes."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"architectural-overview",children:"Architectural Overview"}),"\n",(0,s.jsx)(n.p,{children:"In a nutshell, the Flamingock process takes all the pending changes and executes them in order during your Application startup process."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Application Startup"}),"  \u2192 Initializes the ",(0,s.jsx)(n.strong,{children:"Runner"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Runner"})," scans and loads all registered ",(0,s.jsx)(n.strong,{children:"ChangeUnits"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Drivers"})," communicate with an underlying component that varies by edition.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In Flamingock CE, this component is a simple storage layer (e.g., MongoDB, DynamoDB)."}),"\n",(0,s.jsx)(n.li,{children:"In the Cloud and Self-Hosted editions, the driver connects to a more sophisticated Flamingock backend that includes orchestration, auditing, and support for advanced operational features."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ChangeUnits"})," execute in a coordinated ",(0,s.jsx)(n.strong,{children:"workflow"}),", optionally using templates."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Distributed Locking"})," ensures safe execution in distributed environments."]}),"\n",(0,s.jsxs)(n.li,{children:["All executions are ",(0,s.jsx)(n.strong,{children:"audited"})," and can be ",(0,s.jsx)(n.strong,{children:"rolled backed"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Flamingock is designed to either apply all defined changes successfully or fail early. On the next run, it will resume from the last failed change."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Flamingock Architecture Diagram",src:i(2608).A+"",width:"831",height:"642"})}),"\n",(0,s.jsx)(n.h3,{id:"a-more-detailed-process-steps",children:"A more detailed process steps"}),"\n",(0,s.jsx)(n.p,{children:"Flamingock process follows the next steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The runner/builder loads the pipeline of execution of changes."}),"\n",(0,s.jsx)(n.li,{children:"The runner loads the files storing the changes desired (changeUnits)."}),"\n",(0,s.jsx)(n.li,{children:"The runner checks if there is pending change to execute."}),"\n",(0,s.jsx)(n.li,{children:"The runner acquires the distributed lock through the driver."}),"\n",(0,s.jsx)(n.li,{children:"The runner loops over the ChangeUnits (change files) in order."}),"\n",(0,s.jsx)(n.li,{children:"Takes the next ChangeUnit and executes it."}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If the ChangeUnit is successfully executed, Flamingock persists an entry in the Flamingock change history with the state SUCCESS and start the step 5 again."}),"\n",(0,s.jsx)(n.li,{children:"If the ChangeUnit fails, the runner rolls back the change. If the driver supports transactions and transactions are enabled, the rollback is done natively. When the driver does not support transactions or transactions are disabled, the method @RollbackExecution is executed. In both cases the ChangeUnit failed, whereas in the latter option, and entry is added in the changelog that a change has been rolled back."}),"\n",(0,s.jsx)(n.li,{children:"If the runner acomplished to execute the entire migration with no failures, it's considered successful. It releases the lock and finishes the migration.\nOn the other hand, if any ChangeUnit fails, the runner stops the migration at that point and throws an exception. When Flamingock is executed again, it will continue from the failure ChangeUnit(included)."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);