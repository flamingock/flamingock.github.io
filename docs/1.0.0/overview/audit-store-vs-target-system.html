<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-overview/audit-store-vs-target-system" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Audit store vs. target system | Flamingock </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://flamingock.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://flamingock.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://flamingock.github.io/docs/1.0.0/overview/audit-store-vs-target-system"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Audit store vs. target system | Flamingock "><meta data-rh="true" name="description" content="In Flamingock, it is important to distinguish between two very different roles that external systems can play:"><meta data-rh="true" property="og:description" content="In Flamingock, it is important to distinguish between two very different roles that external systems can play:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flamingock.github.io/docs/1.0.0/overview/audit-store-vs-target-system"><link data-rh="true" rel="alternate" href="https://flamingock.github.io/docs/1.0.0/overview/audit-store-vs-target-system" hreflang="en"><link data-rh="true" rel="alternate" href="https://flamingock.github.io/docs/1.0.0/overview/audit-store-vs-target-system" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Audit store vs. target system","item":"https://flamingock.github.io/docs/1.0.0/overview/audit-store-vs-target-system"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Flamingock " href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.83150bde.css">
<script src="/assets/js/runtime~main.568f2845.js" defer="defer"></script>
<script src="/assets/js/main.62e6ed55.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/flamingock.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/flamingock.svg" alt="Flamingock" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/flamingock.svg" alt="Flamingock" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Flamingock Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/1.0.0/getting-started/get-started">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><a href="https://github.com/flamingock" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a class="navbar__item navbar__link" href="/docs/1.0.0/overview/audit-store-vs-target-system">1.0.0</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Getting Started</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/getting-started/get-started">Get started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/getting-started/how-it-works">How it works?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Overview</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/Introduction">Introduction to Flamingock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/Change-as-Code">Change-as-Code (CaC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/key-features">Key features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/Editions">Flamingock editions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/overview/technical-overview">Flamingock Technical Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/1.0.0/overview/audit-store-vs-target-system">Audit store vs. target system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Flamingock library</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/introduction">Library Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/setup-and-stages">Setup &amp; Stages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/changeunits-deep-dive">ChangeUnits Deep Dive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/changeunit-dependency-injection">ChangeUnit dependency injection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/platform-component-injection">Platform component injection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/lock-configuration">Distributed lock configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/events">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/flamingock-library-config/extra-configuration">Additional configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Cloud Edition</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/cloud-edition">Cloud edition (coming soon)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Templates</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/templates/templates-introduction">Templates Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/templates/templates-how-to-use">How to use Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/templates/create-your-own-template">Create your template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/templates/template-mapping-section">Template mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Supported frameworks</div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/1.0.0/frameworks/springboot-integration/introduction">Springboot</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0.0/frameworks/springboot-integration/enable-flamingock-setup">Automatic Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0.0/frameworks/springboot-integration/builder-based-setup">Builder-based (manual)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.0.0/frameworks/springboot-integration/profiles">Profiles</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/frameworks/graalvm">GraalVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/frameworks/kubernetes">Kubernetes deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Community Edition</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/community-edition/Introduction">CE Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/community-edition/ce-mongodb-java-driver">MongoDB (Java driver)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/community-edition/ce-mongodb-springdata">MongoDB (Spring Data)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/community-edition/ce-dynamodb">DynamoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/community-edition/ce-couchbase">Couchbase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Testing</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/testing/introduction">Testing Flamingock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/testing/unit-testing">Unit Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/testing/integration-testing">Integration Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/testing/springboot-integration-testing">Spring Boot  Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Command Line Interface</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/cli">CLI (coming Soon)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-contents-header">Resources</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/resources/examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/resources/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/1.0.0/resources/upgrade-from-mongock">Upgrade from Mongock</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Audit store vs. target system</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Audit Store vs. Target System</h1></header>
<p>In Flamingock, it is important to distinguish between two very different roles that external systems can play:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="audit-store">Audit Store<a href="#audit-store" class="hash-link" aria-label="Direct link to Audit Store" title="Direct link to Audit Store">‚Äã</a></h2>
<p>The audit store is the dedicated persistence layer where Flamingock records metadata about each change unit‚Äôs execution. Its sole purpose is to capture, in an append-only log, exactly which change units ran, when they ran, who initiated them, and whether they succeeded or failed (along with any error details). This information is used to:</p>
<ul>
<li>
<p><strong>Prevent duplicate applications</strong><br>
<!-- -->By checking the audit store before running a change unit, Flamingock guarantees each change is executed at most once.</p>
</li>
<li>
<p><strong>Track change history</strong><br>
<!-- -->You can query the audit store to see all previously applied changes, filter by author or date range, and generate reports.</p>
</li>
<li>
<p><strong>Coordinate distributed execution</strong><br>
<!-- -->In a clustered environment, Flamingock nodes consult the audit store to decide which change units still need to run‚Äîand to know which locks are held.</p>
</li>
<li>
<p><strong>Drive rollbacks and ‚Äúundo‚Äù operations</strong><br>
<!-- -->Since each audit entry captures rollback availability, Flamingock can navigate backward through the audit store to revert a series of changes in reverse order.</p>
</li>
</ul>
<p>Depending on your setup, the audit store may be:</p>
<ul>
<li>A user-provided database (for Community Edition). For example, if you run CE with MongoDB, Flamingock writes audit records into a MongoDB collection.</li>
<li>Flamingock‚Äôs own cloud backend (for Cloud Edition). In that case, the audit store is a managed that you never host yourself.</li>
</ul>
<p>In summary, the audit store exists solely to record what happened‚Äîand to ensure consistency and idempotency across deployments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="target-system">Target System<a href="#target-system" class="hash-link" aria-label="Direct link to Target System" title="Direct link to Target System">‚Äã</a></h2>
<p>A target system is any external resource or service upon which a change unit‚Äôs logic operates. When you write a change unit, you define <code>@Execution</code> and <code>@RollbackExecution</code> methods that perform actions against a target system‚Äîsuch as:</p>
<ul>
<li>A cloud service (e.g., creating an S3 bucket or configuring a CloudFormation stack)</li>
<li>A messaging backbone (e.g., creating a new Kafka topic, configuring permissions, or updating an existing schema)</li>
<li>A configuration service (e.g., updating a feature-flag in Consul or Vault)</li>
<li>A database schema (e.g., creating a new column in your relational database)</li>
<li>A NoSQL data store (e.g., creating a new collection or index in MongoDB)</li>
<li>Even another microservice‚Äôs REST API</li>
</ul>
<p>The key point is that the target system is where changes must actually be applied‚Äîand those changes must occur exactly once (or be rolled back) to keep your application and its ecosystem in sync. Flamingock orchestrates these operations in a deterministic, ordered fashion, but the target system itself is whatever resource or service your change unit code touches.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-the-distinction-matters">Why the distinction matters<a href="#why-the-distinction-matters" class="hash-link" aria-label="Direct link to Why the distinction matters" title="Direct link to Why the distinction matters">‚Äã</a></h2>
<p>Because Flamingock originated from Mongock (which treated the database both as audit store and change target), it‚Äôs common to conflate these two roles. In practice:</p>
<ul>
<li>
<p><strong>In Cloud Edition with distributed transaction protocol (for a transactionally-capable target like an RDBMS)</strong>:</p>
<ul>
<li>Flamingock writes a small ‚Äúintent‚Äù or ‚Äúflag‚Äù record in your own database before it writes the audit entry to the cloud store.</li>
<li>After successfully committing your database change, Flamingock finalizes the audit record in the cloud. If anything fails at any step, Flamingock can roll everything back or clean up partial intent entries. This protocol ensures that, even though the audit store lives in the cloud, your RDBMS change and the audit record remain effectively atomic from Flamingock‚Äôs perspective.</li>
</ul>
</li>
<li>
<p><strong>When a relational or NoSQL database serves as both audit store and change target</strong> (for example, CE running on MongoDB):</p>
<ul>
<li>Flamingock writes an audit-entry document into the same database where your data resides.</li>
<li>For DML or DDL change units that modify that same database, Flamingock can wrap both the change and the audit insert in a single transaction‚Äîensuring ‚Äúall-or-nothing‚Äù consistency.</li>
</ul>
</li>
<li>
<p><strong>When the change target is a different system</strong> (for example, creating S3 buckets or updating Kafka topics):</p>
<ul>
<li>The audit store remains your chosen audit database or Flamingock‚Äôs cloud backend.</li>
<li>Flamingock cannot wrap, say, an S3 API call and the audit insert inside a single transaction, because those systems do not share a common transaction coordinator.</li>
<li>Instead, Flamingock‚Äôs audit store logs the change unit as ‚Äúexecuted‚Äù only after your <code>@Execution</code> method completes without error; if that <code>@Execution</code> code fails, Flamingock calls your <code>@RollbackExecution</code>. The audit store entry is only written once you confirm the change succeeded.</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Audit store" src="/assets/images/Diagrams-TargetAndAuditStore.drawio-eda74901cbbf1c08dbbe3d4cccd64511.png" width="725" height="326" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="illustration">Illustration<a href="#illustration" class="hash-link" aria-label="Direct link to Illustration" title="Direct link to Illustration">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transactional-target-with-cloud-as-audit-store-cloud-edition">Transactional target with Cloud as audit store (Cloud Edition)<a href="#transactional-target-with-cloud-as-audit-store-cloud-edition" class="hash-link" aria-label="Direct link to Transactional target with Cloud as audit store (Cloud Edition)" title="Direct link to Transactional target with Cloud as audit store (Cloud Edition)">‚Äã</a></h4>
<p>üìÑ <strong>_0001_CreateUserTableChange</strong></p>
<ul>
<li><strong>Targets:</strong> Transactional database (e.g., PostgreSQL)</li>
<li><strong>Audit store:</strong> Flamingock Cloud (Cloud Edition)</li>
<li><strong>Transactional behavior:</strong> Uses Flamingock‚Äôs distributed transaction protocol to guarantee atomicity between the RDBMS and the cloud audit store, achieving the same effect as a traditional transaction.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="target-and-audit-store-are-the-same-transactional-database">Target and audit store are the same transactional database<a href="#target-and-audit-store-are-the-same-transactional-database" class="hash-link" aria-label="Direct link to Target and audit store are the same transactional database" title="Direct link to Target and audit store are the same transactional database">‚Äã</a></h4>
<p>üìÑ <strong>_0002_CreateUserTableChange</strong></p>
<ul>
<li><strong>Targets:</strong> Transactional database (e.g., MongoDB)</li>
<li><strong>Audit store:</strong> Same MongoDB instance (Community Edition)</li>
<li><strong>Transactional behavior:</strong> Wrapped in a single DB transaction‚Äîso both the schema change (or data change) and the audit insert happen or fail together.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="non-transactional-target-with-cloud-as-audit-store">Non-transactional target with Cloud as audit store<a href="#non-transactional-target-with-cloud-as-audit-store" class="hash-link" aria-label="Direct link to Non-transactional target with Cloud as audit store" title="Direct link to Non-transactional target with Cloud as audit store">‚Äã</a></h4>
<p>üìÑ <strong>_0003_ConfigureS3BucketChange</strong></p>
<ul>
<li><strong>Targets:</strong> Amazon S3 (creating a bucket)</li>
<li><strong>Audit store:</strong> Flamingock Cloud (Cloud Edition)</li>
<li><strong>Transactional behavior:</strong>
<ol>
<li>Flamingock calls S3‚Äôs <code>createBucket</code>.</li>
<li>If that succeeds, Flamingock writes an audit entry to the <strong>cloud</strong> audit store.</li>
<li>If the S3 call fails, Flamingock invokes your <code>@RollbackExecution</code> (deleting or cleaning up) and then writes an audit entry marking the change as ‚Äúrolled back.‚Äù</li>
</ol>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>All change units within a single application must use the same audit store. You cannot mix multiple audit backends in the same application.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways">‚Äã</a></h2>
<ul>
<li>
<p><strong>Audit Store</strong></p>
<ul>
<li>Record of ‚Äúwhat ran when and by whom‚Äù</li>
<li>Used to prevent duplicates, drive rollbacks, and coordinate distributed execution</li>
<li>Hosted in Flamingock‚Äôs cloud backend (Cloud Edition) or your chosen database (CE)</li>
</ul>
</li>
<li>
<p><strong>Target System</strong></p>
<ul>
<li>The actual resource being modified (S3 buckets, Kafka topics, database tables, config services, and so on)</li>
<li>Change units call external APIs or drivers against this system</li>
<li>May or may not support transactions; if it does, Flamingock can co-ordinate with the audit store (via Cloud‚Äôs distributed protocol or CE‚Äôs DB transaction)</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Distinguishing these two roles makes it clear that Flamingock‚Äôs core value lies in coordinating audit and execution‚Äîacross arbitrary target systems‚Äîrather than assuming both duties are performed by the same database. This clarity ensures you can design your change units and architecture with the proper expectations around consistency, rollback, and idempotency.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/overview/audit-store-vs-target-system.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/1.0.0/overview/technical-overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Flamingock Technical Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/1.0.0/flamingock-library-config/introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Library Introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#audit-store" class="table-of-contents__link toc-highlight">Audit Store</a></li><li><a href="#target-system" class="table-of-contents__link toc-highlight">Target System</a></li><li><a href="#why-the-distinction-matters" class="table-of-contents__link toc-highlight">Why the distinction matters</a><ul><li><a href="#illustration" class="table-of-contents__link toc-highlight">Illustration</a></li></ul></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Flamingock, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>